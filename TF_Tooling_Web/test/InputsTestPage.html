<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>SCCfW Testbed</title>

    <script name="TouchFree" type="text/javascript" src="../build/dist/TouchFree.js"></script>

    <style>
        .overout {
            padding-top: 5px;
            padding-left: 5px;
            padding-right: 5px;
        }

        .enterleave {
            padding-bottom: 5px;
            padding-left: 5px;
            padding-right: 5px;
        }
    </style>
</head>

<body>

    <div>
        <h1>TouchFree Tooling for Web Testbed</h1>
    </div>

    <p>
        To test the performance of the pointerenter / pointerleave event transmission in
        TouchFree Tooling for Web, please do the following <strong> in a Chrome browser</strong>:
    </p>

    <ol>
        <li>
            Ensure that the TouchFree Service is running
        </li>
        <li>
            Ensure that this page is the <strong>active</strong> client of TouchFree service.
            <ol>
                <li>
                    To do this, simply refresh the page. This will reconnect the page to the
                    TouchFree Service.
                </li>
                <li>
                    Make sure not to open another TouchFree Client during the test, such as the
                    Service's UI or another web page that uses TouchFree Tooling.
                </li>
            </ol>
        </li>
        <li>
            Check the expected visual behaviour by moving the mouse from top to bottom of screen and
            vice versa. The visuals when using the TouchFree Cursor should mirror mouse
            behaviour.
        </li>
        <li>
            Open the developer tools (F12), then open the command window (ctrl+shift+p) and type
            "show frames". Click on the "Show frames per second (FPS) meter"
        </li>
        <li>
            Now start moving the cursor around the green and yellow areas. Keep note of both the
            visuals and the percentage in the FPS meter.</br>
            The visuals should update smoothly between each sub-region of the green and yellow areas,
            as well as when switching between green and yellow areas.</br>
            Pay particular attention to the behaviour when switching between the green and yellow
            areas as these are the transitions at which the most events will be sent.</br>
            The percentage should not drop below 95%.
        </li>
        <li>

        </li>
    </ol>

    <div class="overout">
        <div class="overout">
            <div class="overout">
                <div class="overout">
                    <div class="overout">
                        <div class="overout">
                            <div class="overout">
                                <div class="overout">
                                    <div class="overout">
                                        <div class="overout">
                                            <div class="overout">
                                                <div class="overout">
                                                    <div class="overout">
                                                        <div class="overout">
                                                            <div class="overout">
                                                                <div class="overout">
                                                                    <div class="overout">
                                                                        <div class="overout">
                                                                            <div class="overout">
                                                                                <div class="overout" style="height: 10px;width: 500px;">

                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="overout">
                                                                <div class="overout">
                                                                    <div class="overout">
                                                                        <div class="overout">
                                                                            <div class="overout">
                                                                                <div class="overout">
                                                                                    <div class="overout" style="height: 10px;width: 500px;">

                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="overout">
                                    <div class="overout">
                                        <div class="overout">
                                            <div class="overout">
                                                <div class="overout">
                                                    <div class="overout">
                                                        <div class="overout">
                                                            <div class="overout">
                                                                <div class="overout">
                                                                    <div class="overout">
                                                                        <div class="overout">
                                                                            <div class="overout">
                                                                                <div class="overout">
                                                                                    <div class="overout">
                                                                                        <div class="overout" style="height: 10px;width: 500px;">

                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="overout">
                                                                <div class="overout">
                                                                    <div class="overout">
                                                                        <div class="overout">
                                                                            <div class="overout">
                                                                                <div class="overout">
                                                                                    <div class="overout">
                                                                                        <div class="overout" style="height: 10px;width: 500px;">

                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="overout">
                                    <div class="overout">
                                        <div class="overout">
                                            <div class="overout">
                                                <div class="overout">
                                                    <div class="overout">
                                                        <div class="overout">
                                                            <div class="overout">
                                                                <div class="overout">
                                                                    <div class="overout">
                                                                        <div class="overout">
                                                                            <div class="overout">
                                                                                <div class="overout">
                                                                                    <div class="overout">
                                                                                        <div class="overout" style="height: 10px;width: 500px;">

                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="overout">
                                                                <div class="overout">
                                                                    <div class="overout">
                                                                        <div class="overout">
                                                                            <div class="overout">
                                                                                <div class="overout">
                                                                                    <div class="overout">
                                                                                        <div class="overout" style="height: 10px;width: 500px;">

                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="enterleave">
                <div class="enterleave">
                    <div class="enterleave">
                        <div class="enterleave">
                            <div class="enterleave">
                                <div class="enterleave">
                                    <div class="enterleave">
                                        <div class="enterleave">
                                            <div class="enterleave">
                                                <div class="enterleave">
                                                    <div class="enterleave">
                                                        <div class="enterleave">
                                                            <div class="enterleave">
                                                                <div class="enterleave">
                                                                    <div class="enterleave">
                                                                        <div class="enterleave">
                                                                            <div class="enterleave">
                                                                                <div class="enterleave">
                                                                                    <div class="enterleave">
                                                                                        <div class="enterleave" style="height: 10px;width: 500px;">

                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="enterleave">
                                                                        <div class="enterleave">
                                                                            <div class="enterleave">
                                                                                <div class="enterleave">
                                                                                    <div class="enterleave">
                                                                                        <div class="enterleave">
                                                                                            <div class="enterleave" style="height: 10px;width: 500px;">

                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="enterleave">
                                            <div class="enterleave">
                                                <div class="enterleave">
                                                    <div class="enterleave">
                                                        <div class="enterleave">
                                                            <div class="enterleave">
                                                                <div class="enterleave">
                                                                    <div class="enterleave">
                                                                        <div class="enterleave">
                                                                            <div class="enterleave">
                                                                                <div class="enterleave">
                                                                                    <div class="enterleave">
                                                                                        <div class="enterleave">
                                                                                            <div class="enterleave">
                                                                                                <div class="enterleave" style="height: 10px;width: 500px;">

                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="enterleave">
                                                                        <div class="enterleave">
                                                                            <div class="enterleave">
                                                                                <div class="enterleave">
                                                                                    <div class="enterleave">
                                                                                        <div class="enterleave">
                                                                                            <div class="enterleave">
                                                                                                <div class="enterleave" style="height: 10px;width: 500px;">

                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="enterleave">
                                            <div class="enterleave">
                                                <div class="enterleave">
                                                    <div class="enterleave">
                                                        <div class="enterleave">
                                                            <div class="enterleave">
                                                                <div class="enterleave">
                                                                    <div class="enterleave">
                                                                        <div class="enterleave">
                                                                            <div class="enterleave">
                                                                                <div class="enterleave">
                                                                                    <div class="enterleave">
                                                                                        <div class="enterleave">
                                                                                            <div class="enterleave">
                                                                                                <div class="enterleave" style="height: 10px;width: 500px;">

                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="enterleave">
                                                                        <div class="enterleave">
                                                                            <div class="enterleave">
                                                                                <div class="enterleave">
                                                                                    <div class="enterleave">
                                                                                        <div class="enterleave">
                                                                                            <div class="enterleave">
                                                                                                <div class="enterleave" style="height: 10px;width: 500px;">

                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <img src="../images/Ring.png" id="cursorRing" class="TouchFreecursor" style="width:50px;height:50px;position:absolute;z-index:1000;">

    <script>
        TouchFree.Connection.ConnectionManager.init();

        var cursorRing = document.getElementById('cursorRing');
        document.body.appendChild(cursorRing);

        var cursor = document.createElement('img');
        cursor.src = "../images/Dot.png";
        cursor.style.position = "absolute";
        cursor.width = 50;
        cursor.height = 50;
        cursor.style.zIndex = "1001";

        // This is a special class used by the WebInputController to identify the html elements that
        // make up the cursor. This is so it can ignore cursor-related objects when it is looking
        // for elements to pointerover/pointerout etc. Note that the class is also added to the
        // <img> tag foudn as "cursorRing" above
        cursor.classList.add("TouchFreecursor");

        document.body.appendChild(cursor);

        var dotCursor = new TouchFree.Cursors.DotCursor(cursor, cursorRing);
        var inputSystem = new TouchFree.InputControllers.WebInputController();

        var overOuts = document.getElementsByClassName("overout");

        Array.from(overOuts).forEach(element => {
            element.style.backgroundColor = "green";

            element.addEventListener("pointerover", () => {
                element.style.backgroundColor = "black";
            });
            element.addEventListener("pointerout", () => {
                element.style.backgroundColor = "green";
            });
        });

        var enterLeaves = document.getElementsByClassName("enterleave");

        Array.from(enterLeaves).forEach(element => {
            element.style.backgroundColor = "yellow";

            element.addEventListener("pointerenter", () => {
                element.style.backgroundColor = "black";
            });
            element.addEventListener("pointerleave", () => {
                element.style.backgroundColor = "yellow";
            });
        });

    </script>

</body>

</html>